<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Bike Sharing Stations on Decreasing Traffic Congestion</title>
   	<script src="https://d3js.org/d3.v4.min.js"></script>
   	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <style>

	</style>
</head>
<body>
  <main role="main" class="container" >
     <div class="row">
     	<div class="col-12">
     		<br><br>
     		<h1>Bike Sharing Stations on Decreasing Traffic Congestion</h1>
        <br>
        <h4>by Alexander Guo and Carolyn Mei<h4>
     		<hr>
     	</div>
     </div>
     <div class="row">
  		<div class="col-2">
        <h3 id='imgTrigger1'>NYC Traffic</h3>
        <br>
        <p>This is what traffic in New York City looks like on a normal weekday.</p>
        <br>
        <p id="description1">What would happen if we added some bike stations?</p>
        <p>How would traffic change?</p>
        <p>Let's find out.</p>
      </div>
      <div class="col-10">
        <div id="trafficMapDiv"></div>
      </div>
      <div class="col-2">
        <h3 id='imgTrigger2'>Before station</h3>
        <br>
        <p>Traffic at an intersection</p>
        <br>
        <p id="description2">This is the traffic before a bike sharing station was added.</p>
        <p>Let's see what happens after we add a station.</p>
      </div>
      <div class="col-10">
        <div id="stationBeforeDiv"></div>
      </div>
      <div class="col-2">
        <h3 id='imgTrigger3'>After station</h3>
        <br>
        <p>Traffic at an intersection</p>
        <br>
        <p id="description3">This is the traffic after a bike sharing station was added.</p>
        <p>There is now less car traffic!</p>
      </div>
      <div class="col-10">
        <div id="stationAfterDiv"></div>
      </div>
     </div>
  </main>
</body>

<script type="text/javascript">

var svg = d3.select("div#trafficMapDiv")
    .append("svg")
    .attr("viewBox", "0 0 1200 800")
    .attr("preserveAspectRatio", "xMinYMid")

var myimage = svg.append('image')
    .attr('xlink:href', 'nyc_map.png')
    .attr('width', 1350)
    .attr('height', 1000)
    .attr("class", "img1opacity")

    var rectangles = [[0, 0, 1350, 100, "#c9e897"], [0, 750, 1350, 100, "#c9e897"]];

          svg.selectAll("rect")
             .data(rectangles)
             .enter()
             .append("rect")
             .attr("x", function(d) {
                return d[0];})
             .attr("y", function(d) {
                return d[1];})
             .attr("width", function(d) {
                return d[2];})
             .attr("height", function(d) {
                return d[3];})
             .attr("fill", function(d) {
                if (d[4]== "gray")
                  return "gray";
                else
                  return "#c9e897";})

svg.append("text")
    .attr("x", 40)
    .attr("y", 70)
    .attr("text-anchor", "left")
    .text("NYC Car Traffic")
    .attr("class", "text1opacity")

svg.append("text")
    .attr("x", 950)
    .attr("y", 800)
    .attr("text-anchor", "right")
    .text("(Car) | Bike")
    .attr("class", "text1opacity")

var svg = d3.select("div#stationBeforeDiv")
		.append("svg")
		.attr("viewBox", "0 0 1200 800")
		.attr("preserveAspectRatio", "xMinYMid")

var myimage = svg.append('image')
    .attr('xlink:href', 'nyc_map.png')
    .attr('width', 1350)
    .attr('height', 1000)
    .attr("class", "img2opacity")

    var rectangles = [[0, 0, 1350, 100, "#c9e897"], [0, 750, 1350, 100, "#c9e897"]];

    			svg.selectAll("rect")
    			   .data(rectangles)
    			   .enter()
    			   .append("rect")
    			   .attr("x", function(d) {
    			   		return d[0];})
    			   .attr("y", function(d) {
    			   		return d[1];})
    			   .attr("width", function(d) {
    			   		return d[2];})
    			   .attr("height", function(d) {
    			   		return d[3];})
    			   .attr("fill", function(d) {
    			   		if (d[4]== "gray")
    			   			return "gray";
    			   		else
    			   			return "#c9e897";})

svg.append("text")
    .attr("x", 40)
    .attr("y", 70)
    .attr("text-anchor", "left")
    .text("Before Bike Station")
    .attr("class", "text2opacity")

svg.append("text")
    .attr("x", 950)
    .attr("y", 800)
		.attr("text-anchor", "right")
		.text("(Car) | Bike")
		.attr("class", "text2opacity")


var svg = d3.select("div#stationAfterDiv")
		.append("svg")
		.attr("viewBox", "0 0 1200 800")
		.attr("preserveAspectRatio", "xMinYMid")

var myimage = svg.append('image')
    .attr('xlink:href', 'nyc_map.png')
    .attr('width', 1350)
    .attr('height', 1000)
    .attr("class", "img3opacity")

    var rectangles = [[0, 0, 1350, 100, "#c9e897"], [0, 750, 1350, 100, "#c9e897"]];

          svg.selectAll("rect")
             .data(rectangles)
             .enter()
             .append("rect")
             .attr("x", function(d) {
                return d[0];})
             .attr("y", function(d) {
                return d[1];})
             .attr("width", function(d) {
                return d[2];})
             .attr("height", function(d) {
                return d[3];})
             .attr("fill", function(d) {
                if (d[4]== "gray")
                  return "gray";
                else
                  return "#c9e897";})

svg.append("text")
    .attr("x", 40)
    .attr("y", 70)
		.attr("text-anchor", "left")
		.text("After Bike Station")
		.attr("class", "text3opacity")

svg.append("text")
    .attr("x", 950)
    .attr("y", 800)
		.attr("text-anchor", "right")
		.text("(Car) | Bike")
		.attr("class", "text3opacity")


  var controller = new ScrollMagic.Controller();

  new ScrollMagic.Scene({triggerElement: "#description1"})
      .setClassToggle(".text1opacity", "active")
      .addTo(controller);

  new ScrollMagic.Scene({triggerElement: "#imgTrigger1"})
      .setClassToggle(".img1opacity", "active")
      .addTo(controller);

  new ScrollMagic.Scene({triggerElement: "#description2"})
      .setClassToggle(".text2opacity", "active")
      .addTo(controller);

  new ScrollMagic.Scene({triggerElement: "#imgTrigger2"})
      .setClassToggle(".img2opacity", "active")
      .addTo(controller);

  new ScrollMagic.Scene({triggerElement: "#description3"})
      .setClassToggle(".text3opacity", "active")
      .addTo(controller);

  new ScrollMagic.Scene({triggerElement: "#imgTrigger3"})
      .setClassToggle(".img3opacity", "active")
      .addTo(controller);

</script>
</html>
